"0","#cleaned our continuous variables"
"0","remove_outliers <- function(col) {"
"0","  top_one_percent <- quantile(col, 0.99)"
"0",""
"0","  col[col >= top_one_percent] <- NA  # Replace outliers with NA"
"0","  return(col)"
"0","}"
"0",""
"0","# normalize all of the columns with integers"
"0","normalize_features <- function(col) {"
"0","  col_min <- min(col, na.rm = TRUE)"
"0","  col_max <- max(col, na.rm = TRUE)"
"0","  "
"0","  return((col - col_min) / (col_max - col_min))"
"0","}"
"0",""
"0","cleaned_data <- data %>% "
"0","  mutate(across(c(gender, smoking_history, hypertension, heart_disease, diabetes), as_factor), "
"0","         across(where(is.numeric), remove_outliers)) %>% "
"0","  filter(if_all(where(is.numeric), \(col) !is.na(col))) %>% "
"0","  mutate(across(where(is.numeric), normalize_features))"
"0",""
"0","cleaned_data"
